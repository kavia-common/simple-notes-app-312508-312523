{"is_source_file": true, "format": "Python", "description": "FastAPI backend implementation for a simple notes application using SQLite as datastore. Contains API endpoints for CRUD operations on notes, database schema management, and health check.", "external_files": ["os", "sqlite3", "contextlib", "datetime", "typing", "fastapi", "fastapi.middleware.cors", "pydantic"], "external_methods": ["os.getenv", "sqlite3.connect", "datetime.now", "datetime.now(timezone.utc).isoformat", "FastAPI", "HTTPException", "Response", "status.HTTP_201_CREATED", "status.HTTP_404_NOT_FOUND", "status.HTTP_500_INTERNAL_SERVER_ERROR", "status.HTTP_204_NO_CONTENT", "CORSMiddleware", "BaseModel", "Field", "field_validator"], "published": ["app"], "classes": [{"name": "Note", "description": "Data model representing a note with id, title, content, created_at, and updated_at fields."}, {"name": "NoteCreate", "description": "Data model for payload to create a new note, with validation for non-empty title."}, {"name": "NoteUpdate", "description": "Data model for payload to update an existing note, with validation for non-empty title."}], "methods": [{"name": "_utc_now_iso", "description": "Returns current UTC time as ISO8601 string with timezone."}, {"name": "get_db_path", "description": "Resolves the SQLite database path from environment variable or default path."}, {"name": "_db_conn", "description": "Context manager yielding a SQLite connection with row factory."}, {"name": "_ensure_schema", "description": "Creates the notes table if it does not exist."}, {"name": "_row_to_note", "description": "Converts a SQLite row to a dictionary matching the Note schema."}], "calls": ["os.getenv", "os.makedirs", "sqlite3.connect", "conn.execute", "conn.commit", "conn.close", "datetime.now", "datetime.now(timezone.utc).isoformat", "app.add_middleware", "app.on_event", "app.get", "app.post", "app.get", "app.put", "app.delete"], "search-terms": ["FastAPI notes API", "SQLite CRUD", "Notes backend", "API endpoints", "Database schema", "Pydantic models"], "state": 2, "file_id": 3, "knowledge_revision": 16, "git_revision": "cc4f838fd6489efb9a5137d46215f0bbf5e77e2c", "revision_history": [{"9": "54df17193d4e91d212681f8dd548c8f4cbc4e2bd"}, {"10": "54df17193d4e91d212681f8dd548c8f4cbc4e2bd"}, {"11": "cc4f838fd6489efb9a5137d46215f0bbf5e77e2c"}, {"16": "cc4f838fd6489efb9a5137d46215f0bbf5e77e2c"}], "ctags": [], "filename": "notes_backend/src/api/main.py", "format-version": 4, "code-base-name": "https://github.com/kavia-common/simple-notes-app-312508-312523.git:kavia-main"}